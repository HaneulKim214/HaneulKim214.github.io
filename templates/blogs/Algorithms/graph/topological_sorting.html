<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Haneul Kim's - Topological Sorting</title>
	<link rel="stylesheet" href="../../../../bootstrap-4.1.3-dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../../../static/css/fixed.css">
    <link rel="stylesheet" href="../../../../static/css/blogs.css">
	<!-- Font Awesome libarary -->
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
</head>

<body data-spy="scroll" data-target="#navbarResponsive">

<!-- Navbar -->
<nav class="navbar navbar-expand-sm bg-dark navbar-dark fixed-top">
	<a class="navbar-brand" href="../../../../index.html#my-brain">
		Take me back.
    </a>
</nav>
<div class="projects">

<div class="row project">
<div class="col-md-3 side-bar">
    <ul>
        <li><a href="graph_data_structure.html">Graph Introduction</a></li>
        <li><b>Topological Sorting</b></li>
        <li><a href="minimal_spanning_trees.html">Minimal Spanning Trees</a></li>
        <li><a href="shortest_path.html">Shortest Path Algorithms</a></li>
    </ul>
</div>
    
<!-- ------------------------------ All Content goes here -------------------- -->
<div class="col-md-6">
    <h2> Topological Sort: </h1>
    <p class="date">date posted: 2020-02-02</p>
    <br>
    <div class="toc">
        <h5>Contents</h5>
        <ul>
            <li>
                <a href="#1">Topological Sort</a>
            </li>
            <li><a href="#2">Python Implementation</a></li>
            <li><a href="#reference">References</a></li>
        </ul>
    </div>
    
    <br>
    <br>

    <h5 id="1">Topological sort</h5>
    <p>By definition topological sort is linear ordering of vertices such that for every directed edge (u,v),
        vertex u must come before v in the ordering.
    </p>
    <p>It is simply ordering of vertices so that edges point from lower order to higher order.</p>
    <p>One simple analogy is taking courses in University. Most courses have pre-requisites therefore
        you must satisfy all pre-requisites before taking more advanced course. Topological sort would
        be used for ordering courses so that pre-requisites would be met. 
    </p>
    <p>Before moving on to an example note that topological sort only works when graph is directed acyclic graph (DAG).</p>
    <p>Let's go through an example. Looking at graph below we notice that it is directed and acyclic.</p>
    <p>lets think of each vertex as courses we need to take in order to graduate, course B and E needs 
        A as pre-requisite and C need B as pre-requisite and so on...
    </p>
    <p>So our goal is to order courses so that unsatisfied pre-requisite problem never arise.</p>
    <img src="../photos/top_sort_1.png" alt="">
    <p>There are two ways of performing topological sort which are by using:
        <ol>
            <li>Stack</li>
            <li>Queue</li>
        </ol>
    </p>
    <p>First we will go over above example by using stack data structure following steps below:</p>
    <ol>
        <li>Find a starting point, vertex with lowest in-degree.</li>
        <li>mark starting point as "visited" and go to next neighbour.</li>
        <li>now mark 2nd vertex as "visited" and move to its neighour</li>
        <li>follow these steps until vertex with no out-going edge is found</li>
        <li>input vertex with no out-going edge into the stack and move backwards</li>
        <li>repeat above steps until no more vertices are left.</li>
    </ol>
    <p>
    <b>1.</b>Vertex with lowest in-degree is vertex A. So mark A visited and move onto its neighbour,
        either B or E does not matter.<br>
        <img src="../photos/top_sort_2.png" alt="">
    </p>
    <p>
        <b>2.Goto next neighbour vertex B, mark it "visited" and move on</b><br>
        <b>3,4.Visit neighbours until vertex has no out-going edge.</b>
        <img src="../photos/top_sort_4.png" alt="">
    </p>
    <p><b>5.</b> Since H do not have any out-going edge insert into stack.</p>
    <img src="../photos/top_sort_5.png" alt="">
    <p>Now j has no out-going edge so insert it to stack
        <img src="../photos/top_sort_6.png" alt="">
    </p>
    <p>Keep moving backwards and insert into stack accordingly thus left with vertex E and F.</p>
    <p><b>6.</b> Repeating steps above we now start with vertex E(lower in-degree) giving us</p>
    <h5 id="2">Python Implementation</h5>
    
    <h5 id="3">Graph representation</h5>
    <p>Finally we are done with terminologies lets see how to represent graph data structures.</p>

    <b id="3-1">Adjacency list</b>
    <p>
        For each vertex it has a list associated with it where elements represent vertex that it 
        points to. In Python dictionary of lists are used to represent this, each key is a vertex and 
        value is list of vertices that key(vertex) is pointing to (directly).
    </p>
    <pre>
    adj_list = {
        1: [2, 4],
        2: [5],
        3: [6,5],
        4: [2],
        5: [4],
        6: [6]
    }
    </pre>
    <p>Code above represent below picture.</p>
    <p>Looking at vertex 1, we can see there are two edges going out to vertex 2 and 4 thus adj_list[1] = [2,4]</p>
    <p>In undirected graph since vertex 1 contains [2,4] vertex 2 and 4 will contain 1 thus adj_list[2] = [1,4,5] and 
        adj_list[4] = [1, 2, 5]. Note that order of vertex do not matter, adj_list[4] = [2,1,5] is okay as well.
    </p>
    <p>As graph becomes dense, number of edges increase approaching |E| = |V^2| using adjacency list becomes slow
        since it require twice more space for edges going back and forth. For example if vertex 1 is connected to
        all 2, 3, 4, 5, 6 then we require twice more space since we need to create list for 2 going to 1, 3 going to 1,
        and so on...
    </p>
    <img src="../photos/graph_ds_6.png" alt="">
    <p> For weighted graph using adjacency list take up one extra place for storing weight of edges.
        If edge connecting A -> B has weight of 7, store it beside the vertex <pre>{A: [[B,7], [C, weight]]}</pre>
    </p>
    <p>Taking up extra space for weights.</p>
    <br>

    <b id="3-2">Adjacency matrix</b>
    <p>As graph become dense it is more efficient to use adjacency matrix.</p>
    <p>Below matrix represents graph in above example. Vertical axis represents vertex and horizontal
        axis represents vertices that vertical axis' vertex points to.
    </p>
    <p>Vertex 1 points to 2 and 4 thus in adjacency matrix adj_matrix[1][2] = 1 and adj_matrix[1][4] = 1. All
        other columns are set to 0 since vertex 1 do not point to them.
    </p>
    <p>Looking at vertex 2, it only points to vertex 5 therefore adj_matrix[2][5] = 1 and all other are 0.</p>

    <p>It is very straight forward and you can see that no matter it is directed or undirected graph its space
        complexity will always be V^2. 
    </p>
    <p> So for dense graphs adjacency matrix is more suitable and more sparse matrix using adjacency list would 
        be suitable.
    </p>
    <img src="../photos/graph_ds_7.png" alt="">
    <p>For weighted graphs replace 1 with appropriate weights</p>
    <br><br>


    <div id='reference' class="references">
        <h5>References:</h5>
        <ul>
            <li><a href="https://en.wikipedia.org/wiki/Graph_theory">History of graph theory</a></li>
            <li><a href="https://en.wikipedia.org/wiki/Seven_Bridges_of_K%C3%B6nigsberg">Konigsberg bridge problem</a></li>
            <li><a href="https://www.geeksforgeeks.org/graph-and-its-representations/">Graph representation</a></li>
            <li><a href="https://www.youtube.com/watch?v=HDUzBEG1GlA">Graph representation + python implementation</a></li>
            <li><a href="https://www.youtube.com/watch?v=VSgI2cr-f28&list=PL9mhQYIlKEhdvKFh-wVpDuihNQv6C1gSy&index=13">Graph representation (In korean)</a></li>
            <li><a href="https://www.youtube.com/watch?v=G86PQ1OeNqg&list=PL9mhQYIlKEhdvKFh-wVpDuihNQv6C1gSy&index=13&t=0s">Terminologies (In korean)</a></li>
            <li><a href="https://www.programiz.com/dsa/graph-adjacency-list">Adjacency list</a></li>
        </ul>

    </div>
</div>

</div>
</body>

</html>